<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Uni402 - Lesson</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="logo">
                <a href="index.html" style="text-decoration: none; color: inherit;">
                    <h1><span class="logo-uni">Uni</span><span class="logo-402">402</span></h1>
                </a>
                <p class="tagline">Micro‑payments for Knowledge • No Registration</p>
            </div>
            <div class="stats">
                <a href="index.html" class="btn-secondary">
                    <i class="fas fa-arrow-left"></i> Back to Lessons
                </a>
            </div>
        </header>

        <main class="main-content">
            <div class="lesson-view">
                <div class="lesson-header-view">
                    <h2 id="lesson-title">Introduction to Blockchain</h2>
                    <div class="lesson-meta">
                        <span class="lesson-price-large" id="lesson-price">0.02 USDC</span>
                        <span class="lesson-type-badge" id="lesson-type">
                            <i class="fas fa-file-alt"></i> Text
                        </span>
                    </div>
                </div>
                
                <p class="lesson-description-view" id="lesson-description">
                    Fundamentals of blockchain technology and its applications in modern systems.
                </p>
                
                <div class="content-locked" id="locked-content">
                    <div class="locked-message">
                        <i class="fas fa-lock fa-3x"></i>
                        <h3>Lesson Access Locked</h3>
                        <p>To view this lesson, please complete a micro‑payment via the x402 protocol.</p>
                        <button class="btn-create btn-unlock" id="unlock-lesson">
                            <i class="fas fa-lock-open"></i> Unlock via x402
                        </button>
                        <p class="help-text">After payment, lesson access will be granted instantly</p>
                    </div>
                </div>
                
                <div class="content-unlocked" id="unlocked-content" style="display: none;">
                    <div class="content-container">
                        <div class="content-header">
                            <h3><i class="fas fa-check-circle" style="color: #28a745;"></i> Lesson Content</h3>
                            <p class="unlocked-info">Lesson Unlocked • Access granted permanently</p>
                        </div>
                        
                        <div class="lesson-content" id="lesson-content">
                        
                        </div>
                    </div>
                </div>
                
                <div class="lesson-info">
                    <h4><i class="fas fa-info-circle"></i> About the x402 Protocol</h4>
                    <p>The x402 protocol enables instant micro‑payments without registration or login. Once the transaction is confirmed on the Solana network, content access is granted automatically.</p>
                </div>
            </div>
        </main>

        <footer class="footer">
            <p>Uni402 • A minimalist platform for knowledge micro‑payments</p>
            <p class="footer-links">
                <a href="#"><i class="fab fa-github"></i> GitHub</a>
                <span class="separator">•</span>
                <a href="#"><i class="fab fa-twitter"></i> Twitter</a>
                <span class="separator">•</span>
                <a href="#"><i class="fas fa-book"></i> Documentation</a>
            </p>
        </footer>
    </div>

    <div class="modal-overlay" id="payment-modal">
        <div class="modal">
            <div class="modal-header">
                <h3><i class="fas fa-lock"></i> Unlock Lesson</h3>
                <button class="close-modal" id="close-modal">&times;</button>
            </div>
            <div class="modal-content">
                <div class="payment-details">
                    <div class="payment-item">
                        <span class="payment-label">Lesson:</span>
                        <span class="payment-value" id="payment-lesson-title">Introduction to Blockchain</span>
                    </div>
                    <div class="payment-item">
                        <span class="payment-label">Price:</span>
                        <span class="payment-value" id="payment-price">0.02 USDC</span>
                    </div>
                    <div class="payment-item">
                        <span class="payment-label">Recipient Address:</span>
                        <span class="payment-value address">Hx402UniPay...Z9s1L3</span>
                    </div>
                    <div class="payment-item">
                        <span class="payment-label">Network:</span>
                        <span class="payment-value">Solana</span>
                    </div>
                    <div class="payment-item">
                        <span class="payment-label">Message:</span>
                        <span class="payment-value">x402 payment required for lesson access</span>
                    </div>
                </div>
                
                <div class="payment-actions">
                    <button class="btn-pay" id="connect-phantom">
                        <i class="fas fa-wallet"></i> Connect Phantom
                    </button>
                    <p class="help-text">After connecting, approve the transaction in your Phantom Wallet</p>
                </div>
                
                <div class="payment-status" id="payment-status" style="display: none;">
                    <div class="status-success">
                        <i class="fas fa-check-circle"></i>
                        <h4>Payment Confirmed!</h4>
                        <p>Lesson access granted. The page will refresh...</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>